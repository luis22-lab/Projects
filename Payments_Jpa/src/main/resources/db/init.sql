CREATE TABLE IF NOT EXISTS PAYMENT (
    ID BIGSERIAL PRIMARY KEY,
    Request_Id VARCHAR(50) NOT NULL,
    Origin BIGINT NOT NULL,
    Destination_Id VARCHAR (20) NOT NULL,
    Payment_Method VARCHAR(20) NOT NULL,
    Create_Date  TIMESTAMP NOT NULL,
    Date_Value  TIMESTAMP  NOT NULL,
    Amount  DECIMAL(20,2) NOT NULL,
    Status VARCHAR NOT NULL
);

INSERT INTO PAYMENT (Request_Id, Origin, Destination_Id, Payment_Method, Create_Date, Date_Value, Amount, Status) VALUES
('SOLC-001', 93062245, '93062245', 'TRANSFER', '2025-11-17 10:00:00', '2025-11-18', 150.75, 'PENDING'),
('SOLC-002', 93062246, '93062249', 'TRANSFER', '2025-11-17 11:15:00', '2025-11-19', 250.00, 'DONE'),
('SOLC-003', 93062247, '93062248', 'CHECK', '2025-11-17 12:30:00', '2025-11-20', 75.50, 'CANCELED'),
('SOLC-004', 93062248, '93062245', 'CRYPTOCURRENCY', '2025-11-17 13:45:00', '2025-11-21', 320.25, 'PENDING'),
('SOLC-005', 93062249, '93062247', 'TRANSFER', '2025-11-17 15:00:00', '2025-11-22', 500.00, 'DONE'),
('SOLC-005', 93062249, '93062245', 'TRANSFER', '2025-11-17 15:10:00', '2025-11-22', 1500.00, 'DONE');

CREATE TABLE IF NOT EXISTS ACCOUNT (
    ID BIGSERIAL PRIMARY KEY,
    Id_Account BIGINT UNIQUE NOT NULL,
    Name VARCHAR(100) NOT NULL,
    Initial_Balance DECIMAL(20,2) NOT NULL,
    Payment_Method VARCHAR(20) NOT NULL,
    Authorized BOOLEAN NOT NULL,
    Account_Status VARCHAR(20) NOT NULL
);
INSERT INTO ACCOUNT (Id_Account, Name, Initial_Balance, Payment_Method, Authorized, Account_Status) VALUES
(93062245, 'ING', 150000.00, 'TRANSFER', true, 'ACTIVE'),
(93062246, 'BANKIA', 250000.50, 'TRANSFER', true, 'ACTIVE'),
(93062247, 'CAIXA', 550000.75, 'CHECK', true, 'ACTIVATE'),
(93062248, 'BBVA', 320000.00, 'CRYPTOCURRENCY', true, 'ACTIVE'),
(93062249, 'SANTANDER', 100000.25, 'TRANSFER', false, 'ACTIVE'),
(93062250, 'EVO', 100000.25, 'CHECK', false, 'LOCKED');

CREATE TABLE IF NOT EXISTS PAYMENT_REQUEST (
    Id BIGSERIAL PRIMARY KEY,
    Request_Id VARCHAR(255) UNIQUE NOT NULL,
    Id_Origin  BIGINT NOT NULL,
    Request_Date TIMESTAMP NOT NULL,
    status VARCHAR(50) NOT NULL
);
INSERT INTO PAYMENT_REQUEST(Request_Id,Id_Origin,Request_Date,status)VALUES
('SOLC-005', 93062245, '2025-11-22', 'PENDING');

CREATE TABLE IF NOT EXISTS PROCESSED_EVENT(
  event_id VARCHAR(36) PRIMARY KEY,
  processed_at TIMESTAMP
);
